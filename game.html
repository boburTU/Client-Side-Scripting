<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="mystyle.css">

    <title>Lab 3: Celebrity Game</title>
    <script type="text/javascript">

		class Celebrity {
			constructor (name, birthdate, image) {
					this.name = name;
					this.birthdate = birthdate;
					this.image = image;
			}
		}
		//<!--random number generator within specified values. Got the code form mozilla developer page-->
		function getRandomIntInclusive(min, max) {
			min = Math.ceil(min);
			max = Math.floor(max);
			return Math.floor(Math.random() * (max - min + 1)) + min; // <!--The maximum and the minimum is inclusive-->
		};
		var count;
		var celebrities = new Celebrity(30);
			celebrities[0] = new Celebrity("Harrison Ford", "07/13/1942", "images/harrison-ford.jpg");
			celebrities[1] = new Celebrity("Samuel Jackson", "12/21/1948", "images/sam-jackson.jpg");
			celebrities[2] = new Celebrity("Morgan Freeman", "06/01/1937", "images/morgan-freeman.jpg");
			celebrities[3] = new Celebrity("Tom Hanks", "07/09/1956", "images/tom-hanks.jpg");
			celebrities[4] = new Celebrity("Robert Downey Jr.", "04/04/1965", "images/robert-downey-jr.jpg");
			celebrities[5] = new Celebrity("Eddie Murphy", "04/03/1961", "images/eddie-murphy.jpg");
			celebrities[6] = new Celebrity("Tom Cruise", "07/03/1962", "images/tom-cruise.jpg");
			celebrities[7] = new Celebrity("Johnny Depp", "06/09/1963", "images/johnny-depp.jpg");
			celebrities[8] = new Celebrity("Michael Caine", "03/14/1933", "images/michael-cain.jpg");
			celebrities[9] = new Celebrity("Scarlett Johansson", "11/22/1984", "images/scarlett-johansson.jpg");
			celebrities[10] = new Celebrity("Gary Oldman", "03/21/1958", "images/gary-oldman.jpg");
			celebrities[11] = new Celebrity("Robin Williams", "07/21/1951", "images/robin-williams.jpg");
			celebrities[12] = new Celebrity("Bruce Willis", "03/19/1955", "images/bruce-willis.jpg");
			celebrities[13] = new Celebrity("Ian McKellen", "05/25/1939", "images/ian-mckellen.jpg");
			celebrities[14] = new Celebrity("Stanley Tucci", "11/11/1960", "images/stanley-tucci.jpg");
			celebrities[15] = new Celebrity("Robert De Niro", "08/17/1943", "images/robert-deniro.jpg");
			celebrities[16] = new Celebrity("Cameron Diaz", "08/30/1972", "images/cameron-diaz.jpg");
			celebrities[17] = new Celebrity("Matt Damon", "10/08/1970", "images/matt-damon.jpg");
			celebrities[18] = new Celebrity("Liam Neeson", "06/07/1952", "images/liam-neeson.jpg");
			celebrities[19] = new Celebrity("Andy Serkis", "04/20/1964", "images/andy-serkis.jpg");
			celebrities[20] = new Celebrity("Will Smith", "09/25/1968", "images/will-smith.jpg");
			celebrities[21] = new Celebrity("Ben Stiller", "11/30/1965", "images/ben-stiller.jpg");
			celebrities[22] = new Celebrity("Orlando Bloom", "01/13/1977", "images/orlando-bloom.jpg");
			celebrities[23] = new Celebrity("Woody Harrelson", "07/23/1961", "images/woody-harrelson.jpg");
			celebrities[24] = new Celebrity("Julia Roberts", "10/28/1967", "images/julia-roberts.jpg");
			celebrities[25] = new Celebrity("Emma Watson", "04/15/1990", "images/emma-watson.jpg");
			celebrities[26] = new Celebrity("Brad Pitt", "12/18/1963", "images/brad-pitt.jpg");
			celebrities[27] = new Celebrity("Adam Sandler", "09/09/1966", "images/adam-sandler.jpg");
			celebrities[28] = new Celebrity("Daniel Radcliffe", "07/23/1989", "images/daniel-radcliffe.jpg");
			celebrities[29] = new Celebrity("Helena Bonham Carter", "05/26/1966", "images/helena-bonham-carter.jpg");
			var celeb, name, bdate, image;
			var score = 0;
			var round = 0;
			var user_wager = 0;
		window.onload = function () {
		
		var btnSubmit_Click = function (){
		
			if (round>10) {

				celebrity_birthdate_guess = new Date (String(document.getElementById("usrAnswer").value));
				if (document.getElementById("usrAnswer").value == "" || !isNaN(document.getElementById("usrAnswer").value) || !Date.parse(document.getElementById("usrAnswer").value)) {
					var errorTxt = document.getElementById("errorLabel");
					errorTxt.innerHTML = "Must enter date to continue! Format (MM/DD/YYYY)";
				}
				else {
					var errorTxt = document.getElementById("errorLabel");
					errorTxt.innerHTML = "";

					var diffDays = parseInt((bdate - celebrity_birthdate_guess) / (1000 * 60 * 60 * 24));
					if (celebrity_birthdate_guess.toDateString() == bdate.toDateString() || (diffDays >= -730 && diffDays <= 730)) {

						score = parseInt(score) + parseInt(user_wager);
					}
					else {

						score = parseInt(score) - parseInt(user_wager);
					}
					var scoreDiv = document.getElementById("lblScore");
					scoreDiv.innerHTML = "Your Final Score is = " + score;
					var imageDisplayRef = document.getElementById("imgDisplay");
					imageDisplayRef.style.display = "none";
					var usrAnswerRef = document.getElementById("userInput");
					usrAnswerRef.style.display = "none";
					var btnSubmitRef = document.getElementById("userSubmitButton");
					btnSubmitRef.style.display = "none";
					var playAgainRef = document.getElementById("playAgain");
					playAgainRef.style.display = "block";
				}
			}
			else {
				var celebrity_name_guess = document.getElementById("usrAnswer").value;

				if (celebrity_name_guess.toLowerCase() == celeb.name.toLowerCase()) {
					score += 10;
				}
				if (celebrity_name_guess == "" || !isNaN(celebrity_name_guess)) {
					var errorTxt = document.getElementById("errorLabel");
					errorTxt.innerHTML = "Must enter name to continue!";
				}else {
						var errorTxt = document.getElementById("errorLabel");
						errorTxt.innerHTML = "";
						if (round < 10) {
							displayCelebrities();
						}
						else {
							if (parseInt(score) == 0) {
								var scoreDiv = document.getElementById("lblScore");
								scoreDiv.innerHTML = "Your Final Score is = " + score;
								var imageDisplayRef = document.getElementById("imgDisplay");
								imageDisplayRef.style.display = "none";
								var usrAnswerRef = document.getElementById("userInput");
								usrAnswerRef.style.display = "none";
								var btnSubmitRef = document.getElementById("userSubmitButton");
								btnSubmitRef.style.display = "none";
								var playAgainRef = document.getElementById("playAgain");
								playAgainRef.style.display = "block";
								
							}
							else {
								var imageDisplayRef = document.getElementById("imgDisplay");
								imageDisplayRef.style.display = "none";
								var usrAnswerRef = document.getElementById("userInput");
								usrAnswerRef.style.display = "none";
								var btnSubmitRef = document.getElementById("userSubmitButton");
								btnSubmitRef.style.display = "none";
								var gameScreenRef = document.getElementById("gameScreen");
								gameScreenRef.style.display = "none";
								var finalRndDiv = document.getElementById("finalRound");
								finalRndDiv.style.display = "block";
								document.getElementById("usrWager").value = "";
								var scoreDiv = document.getElementById("lblFinalScore");
								scoreDiv.style.display = "block";
								scoreDiv.innerHTML = "Your current score is = " + score;
							}
						}
					}
			}
		};
		function displayCelebrities() {
			var random_selection = getRandomIntInclusive(0,29);
			if (round >= 10) {
				var gameScreenRef = document.getElementById("gameScreen");
				gameScreenRef.style.display = "block";
				user_wager = document.getElementById("usrWager").value;
				var finalRndDiv = document.getElementById("finalRound");
				finalRndDiv.style.display = "none";
				var imageDisplayRef = document.getElementById("imgDisplay");
				imageDisplayRef.style.display = "block";
				var usrAnswerRef = document.getElementById("userInput");
				usrAnswerRef.style.display = "block";
				var btnSubmitRef = document.getElementById("userSubmitButton");
				btnSubmitRef.style.display = "block";
			}
			if (celebrities[random_selection] != null) {
				if (round == 0){
					document.getElementById("usrWager").value = "";
					celebrities[0] = new Celebrity("Harrison Ford", "07/13/1942", "images/harrison-ford.jpg");
					celebrities[1] = new Celebrity("Samuel Jackson", "12/21/1948", "images/sam-jackson.jpg");
					celebrities[2] = new Celebrity("Morgan Freeman", "06/01/1937", "images/morgan-freeman.jpg");
					celebrities[3] = new Celebrity("Tom Hanks", "07/09/1956", "images/tom-hanks.jpg");
					celebrities[4] = new Celebrity("Robert Downey Jr.", "04/04/1965", "images/robert-downey-jr.jpg");
					celebrities[5] = new Celebrity("Eddie Murphy", "04/03/1961", "images/eddie-murphy.jpg");
					celebrities[6] = new Celebrity("Tom Cruise", "07/03/1962", "images/tom-cruise.jpg");
					celebrities[7] = new Celebrity("Johnny Depp", "06/09/1963", "images/johnny-depp.jpg");
					celebrities[8] = new Celebrity("Michael Caine", "03/14/1933", "images/michael-cain.jpg");
					celebrities[9] = new Celebrity("Scarlett Johansson", "11/22/1984", "images/scarlett-johansson.jpg");
					celebrities[10] = new Celebrity("Gary Oldman", "03/21/1958", "images/gary-oldman.jpg");
					celebrities[11] = new Celebrity("Robin Williams", "07/21/1951", "images/robin-williams.jpg");
					celebrities[12] = new Celebrity("Bruce Willis", "03/19/1955", "images/bruce-willis.jpg");
					celebrities[13] = new Celebrity("Ian McKellen", "05/25/1939", "images/ian-mckellen.jpg");
					celebrities[14] = new Celebrity("Stanley Tucci", "11/11/1960", "images/stanley-tucci.jpg");
					celebrities[15] = new Celebrity("Robert De Niro", "08/17/1943", "images/robert-deniro.jpg");
					celebrities[16] = new Celebrity("Cameron Diaz", "08/30/1972", "images/cameron-diaz.jpg");
					celebrities[17] = new Celebrity("Matt Damon", "10/08/1970", "images/matt-damon.jpg");
					celebrities[18] = new Celebrity("Liam Neeson", "06/07/1952", "images/liam-neeson.jpg");
					celebrities[19] = new Celebrity("Andy Serkis", "04/20/1964", "images/andy-serkis.jpg");
					celebrities[20] = new Celebrity("Will Smith", "09/25/1968", "images/will-smith.jpg");
					celebrities[21] = new Celebrity("Ben Stiller", "11/30/1965", "images/ben-stiller.jpg");
					celebrities[22] = new Celebrity("Orlando Bloom", "01/13/1977", "images/orlando-bloom.jpg");
					celebrities[23] = new Celebrity("Woody Harrelson", "07/23/1961", "images/woody-harrelson.jpg");
					celebrities[24] = new Celebrity("Julia Roberts", "10/28/1967", "images/julia-roberts.jpg");
					celebrities[25] = new Celebrity("Emma Watson", "04/15/1990", "images/emma-watson.jpg");
					celebrities[26] = new Celebrity("Brad Pitt", "12/18/1963", "images/brad-pitt.jpg");
					celebrities[27] = new Celebrity("Adam Sandler", "09/09/1966", "images/adam-sandler.jpg");
					celebrities[28] = new Celebrity("Daniel Radcliffe", "07/23/1989", "images/daniel-radcliffe.jpg");
					celebrities[29] = new Celebrity("Helena Bonham Carter", "05/26/1966", "images/helena-bonham-carter.jpg");
					var playAgainRef = document.getElementById("playAgain");
					playAgainRef.style.display = "none";
					var gameScreenRef = document.getElementById("gameScreen");
					gameScreenRef.style.display = "block";
					var imageDisplayRef = document.getElementById("imgDisplay");
					imageDisplayRef.style.display = "block";
					var usrAnswerRef = document.getElementById("userInput");
					usrAnswerRef.style.display = "block";
					var btnSubmitRef = document.getElementById("userSubmitButton");
					btnSubmitRef.style.display = "block";
				}
				celeb = celebrities[random_selection];
				delete celebrities[random_selection];
				name = celeb.name;
				bdate = new Date (celeb.birthdate);
				image= celeb.image;
				var imageDiv = document.getElementById("imgDisplay");
				imageDiv.innerHTML = '<img src="' + image +'">';
				var scoreDiv = document.getElementById("lblScore");
				scoreDiv.innerHTML = "Score is = " + score;
				document.getElementById("usrAnswer").value = "";
				round++;
			}
			else {
				displayCelebrities();
			}
		}
		
		var finalRound_Click = function () {
				var scoreDiv = document.getElementById("lblScore");
				scoreDiv.innerHTML = "Score is = " + score;
				user_wager = document.getElementById("usrWager").value;
                if (parseInt(user_wager) > parseInt(score) || parseInt(user_wager) < 0 || isNaN(user_wager) || user_wager == "")
				{
					var errorTxt = document.getElementById("errorLbl");
					errorTxt.innerHTML = "Wager must be a positive number and equal to or below your current score";
				}
				else {
					displayCelebrities();
				}
		}
		var btnPlayAgain_Click = function (){
			round = 0;
			score = 0;
			user_wager = 0;
			var errorTxt = document.getElementById("errorLbl");
			errorTxt.innerHTML = "";
			displayCelebrities();
		}
		
		var btnStartGame_Click = function () {
			var welcomeScreenRef = document.getElementById("welcomeScreen");
			welcomeScreenRef.style.display = "none";
			displayCelebrities();
		}
			
		var btnMainMenu_Click = function () {
			round = 0;
			score = 0;
			user_wager = 0;
			var errorTxt = document.getElementById("errorLbl");
			errorTxt.innerHTML = "";
			var welcomeScreenRef = document.getElementById("welcomeScreen");
			welcomeScreenRef.style.display = "block";
			var gameScreenRef = document.getElementById("gameScreen");
			gameScreenRef.style.display = "none";
			var playAgainRef = document.getElementById("playAgain");
			playAgainRef.style.display = "none";
			var finalRndDiv = document.getElementById("finalRound");
			finalRndDiv.style.display = "none";	
		}
			document.getElementById("btnStartGame").onclick = btnStartGame_Click;
			document.getElementById("btnFinalRound").onclick = finalRound_Click;
			document.getElementById("btnSubmit").onclick = btnSubmit_Click;
			document.getElementById("btnPlayAgain").onclick = btnPlayAgain_Click;
			document.getElementById("btnMainMenu").onclick = btnMainMenu_Click;
			};
    </script>


</head>

<body>
    <ul class="nav">
        <li id="title">CIS 3344 Spring 2018</li>

        <li><a class="navMenu" href="index.html">Home</a></li>
    </ul>
        <div id="header">
            <h1>Celebrity Game</h1>
        </div>
        <div id="content">
		
            <div id="welcomeScreen">
                <h2>Welcome to Celebrity Game!</h2>
                <h3>This game has 10 rounds and each round is worth 10 points</h3>
                <h3>You will see your score in every round</h3>
                <h3>There is a final round, where you can wager your earned score</h3>
                <h3></h3>
                <h3>In order to play the game, please follow the instructions below!</h3>
                <h3>Instructions:</h3>
                <h3>1) When you see the picture of celebrity, type in their full name including 
                dots in the text below (i.e. "John Doe Sr.")</h3>
                <h3>2) Click Submit</h3>
                <h3>Ready to play the game? Then hit <strong>PLAY</strong> below</h3>
                <button type="button" id="btnStartGame">PLAY</button>


            </div>
            <div id="gameScreen" style="display: none;">
                <div id="lblScore"></div>
                <div id="imgDisplay">
                </div>
                <div id="userInput">
                    <input id="usrAnswer" type="text" required />
                     
                </div>
                <div id="errorLabel"></div>
                <div id="userSubmitButton">
                    <button type="button" id="btnSubmit">Submit</button>
                </div>
                <div id="playAgain" style="display: none;">
                    <button type="button" id="btnPlayAgain">Play Again</button>
					<button type="button" id="btnMainMenu">No</button>
                </div>

            </div>
            <div id="finalRound" style="display: none;">
				<div id="lblFinalScore"></div>
                <h2>FINAL ROUND</h2>
                <h3>This is the final round of the game. Instead of guessing the celebrities name,
				you will guess their birthdate which has to be within 2 years. Please follow the instructions below.</h3>
                <h3>INSTRUCTIONS:</h3>
                <h3>1) Enter how much you are willing to wager from your current total in the text below.</h3>
                <input id="usrWager" type="text" /> <span id="errorLbl"></span>
                <br>
                <h3>2) Enter celebrity's birth date in the following format: MM/DD/YYYY (i.e. 01/25/1966)</h3>
                <h3>3) Click Submit</h3>
                <h3>Ready? Then click <strong>PLAY</strong> below to start the final round</h3>
                <button type="button" id="btnFinalRound">Play</button>
            </div>
        </div>

    <p style = "display: none;">
        Pictures were taken from IMDB page. Link to imdb page: http://www.imdb.com/list/ls074328260/
    </p>
</body>
<footer>
    <p>Created by Bobur Zakhidov (bobur@temple.edu)</p>
</footer>
</html>